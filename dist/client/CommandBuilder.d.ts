import { MikrotikClient, Subscription } from './MikrotikClient';
import { MikrotikCollection } from '../utils/MikrotikCollection';
export declare class CommandBuilder<T extends Record<string, any>> {
    private readonly client;
    private readonly menuPath;
    private queryParams;
    private propList;
    private isPersistentRequest;
    private static queryCache;
    private static readonly CACHE_TTL_MS;
    constructor(client: MikrotikClient, menuPath: string);
    where(key: string, value: string | number | boolean): this;
    whereExists(key: string): this;
    select(fields: string[]): this;
    persistent(): this;
    findBy(criteria: Partial<T>): Promise<MikrotikCollection<T>>;
    findOne(criteria: Partial<T>): Promise<T | null>;
    print(extraParams?: Record<string, any>): Promise<MikrotikCollection<T>>;
    private pruneCache;
    first(): Promise<T | null>;
    add(data: Partial<T>): Promise<string>;
    set(id: string, data: Partial<T>): Promise<void>;
    remove(id: string | string[]): Promise<void>;
    listen(callback: (item: T) => void): Subscription;
    listenMonitor(callback: (item: T) => void): Subscription;
    private invalidatePathCache;
    private shouldDefer;
    private isClientConnected;
    private getParams;
    private formatValue;
    private prepareParams;
}
